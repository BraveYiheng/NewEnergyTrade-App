@startuml
title 订单模块流程图

start
:采购商选择操作（下单、订单跟踪、订单支付、确认收货）;
if (下单) then (yes)
    :前端生成订单数据;
    :发送到后端;
    :后端检查库存;
    if (库存不足) then (yes)
        :返回错误提示;
    else (no)
        :库存充足，插入订单记录并更新库存;
        :返回下单成功消息;
    endif
else if (订单跟踪) then (yes)
    :前端发送订单ID到后端;
    :后端查询订单状态;
    :返回状态信息到前端;
else if (订单支付) then (yes)
    :前端跳转到支付页面;
    :用户支付;
    :前端通知后端支付结果;
    :后端更新订单状态;
    :触发发货流程;
else if (确认收货) then (yes)
    :前端发送订单ID到后端;
    :后端更新订单状态为已完成;
    :触发评价功能;
endif
stop
@enduml