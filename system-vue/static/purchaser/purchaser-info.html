<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>采购商-个人信息</title>
    <link rel="stylesheet" href="../element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="purchaser.css">
    <style>
        .info-card {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);
            padding: 20px;
            margin: 20px;
            transition: all 0.3s ease;
        }
        
        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .info-header {
            border-bottom: 2px solid #409EFF;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .info-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: all 0.3s ease;
        }

        .info-item:hover {
            background-color: #f5f7fa;
        }

        .info-label {
            width: 120px;
            color: #606266;
            font-weight: bold;
        }

        .info-content {
            flex: 1;
            color: #303133;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .custom-button {
            padding: 12px 25px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .custom-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(64,158,255,0.3);
        }
    </style>
    <script src="../js/vue.js"></script>
    <script src="../js/1.7.2axios.js"></script>
    <script src="../element-ui/lib/index.js"></script>
</head>
<body>
<div id="app">
    <div class="info-card">
        <div class="info-header">
            <h2><i class="el-icon-user"></i> 个人信息管理</h2>
        </div>
        
        <div class="info-item">
            <div class="info-label">
                <i class="el-icon-user-solid"></i> 个人姓名
            </div>
            <div class="info-content">{{ userInfo.contactPerson }}</div>
        </div>

        <div class="info-item">
            <div class="info-label">
                <i class="el-icon-office-building"></i> 企业名称
            </div>
            <div class="info-content">{{ userInfo.companyName }}</div>
        </div>

        <div class="info-item">
            <div class="info-label">
                <i class="el-icon-phone"></i> 联系方式
            </div>
            <div class="info-content">{{ userInfo.contactNumber }}</div>
        </div>

        <div class="info-item">
            <div class="info-label">
                <i class="el-icon-message"></i> 邮箱
            </div>
            <div class="info-content">{{ userInfo.email }}</div>
        </div>

        <div class="action-buttons">
            <el-button type="primary" class="custom-button" @click="showEditBasicInfoDialog = true">
                <i class="el-icon-edit"></i> 修改基本信息
            </el-button>
            <el-button type="warning" class="custom-button" @click="showEditPasswordDialog = true">
                <i class="el-icon-key"></i> 修改密码
            </el-button>
        </div>
    </div>

    <!-- 修改基本信息对话框 -->
    <el-dialog :visible.sync="showEditBasicInfoDialog" title="修改基本信息" width="500px">
        <el-form :model="editBasicInfoForm" label-width="120px" :rules="rules" ref="editBasicInfoForm">
            <el-form-item label="姓名" prop="contactPerson">
                <el-input v-model="editBasicInfoForm.contactPerson" prefix-icon="el-icon-user"></el-input>
            </el-form-item>
            <el-form-item label="企业名称" prop="companyName">
                <el-input v-model="editBasicInfoForm.companyName" prefix-icon="el-icon-office-building"></el-input>
            </el-form-item>
            <el-form-item label="联系方式" prop="contactNumber">
                <el-input v-model="editBasicInfoForm.contactNumber" prefix-icon="el-icon-phone"></el-input>
            </el-form-item>
            <el-form-item label="邮箱" prop="email">
                <el-input v-model="editBasicInfoForm.email" prefix-icon="el-icon-message"></el-input>
            </el-form-item>
        </el-form>
        <span slot="footer" class="dialog-footer">
            <el-button @click="showEditBasicInfoDialog = false">取消</el-button>
            <el-button type="primary" @click="saveEditBasicInfo">保存</el-button>
        </span>
    </el-dialog>

    <!-- 修改密码对话框 -->
    <el-dialog :visible.sync="showEditPasswordDialog" title="修改密码" width="500px">
        <el-form :model="passwordForm" label-width="120px" :rules="passwordRules" ref="passwordForm">
            <el-form-item label="原密码" prop="oldPassword">
                <el-input type="password" v-model="passwordForm.oldPassword" prefix-icon="el-icon-lock" show-password></el-input>
            </el-form-item>
            <el-form-item label="新密码" prop="password">
                <el-input type="password" v-model="passwordForm.password" prefix-icon="el-icon-lock" show-password></el-input>
            </el-form-item>
            <el-form-item label="确认新密码" prop="confirmPassword">
                <el-input type="password" v-model="passwordForm.confirmPassword" prefix-icon="el-icon-lock" show-password></el-input>
            </el-form-item>
        </el-form>
        <span slot="footer" class="dialog-footer">
            <el-button @click="showEditPasswordDialog = false">取消</el-button>
            <el-button type="primary" @click="updatePassword" :disabled="passwordForm.password !== passwordForm.confirmPassword">
                保存
            </el-button>
        </span>
    </el-dialog>
</div>
<script>
    window.purchaserPageSection = 'infoManagement';
</script>
<script src="purchaser.js"></script>
</body>
</html> 